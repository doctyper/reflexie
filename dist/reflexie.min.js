(function(e,t){"use strict";!function(){"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}),"function"!=typeof Array.prototype.forEach&&(Array.prototype.forEach=function(e,t){if("function"!=typeof e)throw new TypeError("Invalid parameter. Expected 'function', got "+typeof e);var i=Object(this),r=i.length,n=0;for(n;r>n;n++)e.call(t,this[n],n,i)}),"function"!=typeof Array.prototype.indexOf&&(Array.prototype.indexOf=function(e){var i=Object(this),r=-1;return i.forEach(function(i,n){return i===e?(r=n,t):t}),r})}(),!function(e){function i(){var e=document,t=[];if("function"==typeof e.querySelectorAll)t=e.querySelectorAll('link[rel="stylesheet"], style'),t=Array.prototype.slice.call(t,0);else{var i=e.getElementsByTagName("link");if(i.length)for(var r=0,n=i.length;n>r;r++)"stylesheet"===i[r].getAttribute("rel")&&t.push(i[r])}return t}function r(e){this.source=e,this.url=e.href||null,this.cssText=""}function n(e){return this instanceof n?(this.stylesheets=[],this.queueCount=0,this.callback=e||function(){},this.init(),t):new n(e)}r.prototype.load=function(e,t,i){var r=this;if(this.url){var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&(200===n.status?(r.cssText=n.responseText,e.call(i,r)):t.call(i,r))},n.open("GET",this.url,!1),n.send(null)}else this.cssText=this.source.textContent,e.call(i,r)},n.prototype.init=function(){var e,t,n=i(),s=n.length;for(this.queueCount=s,t=0;s>t;t++)e=new r(n[t]),this.stylesheets.push(e),e.load(this.onStyleSheetLoad,this.onStyleSheetError,this)},n.prototype.onStyleSheetLoad=function(){this.queueCount--,this.onComplete.call(this)},n.prototype.onStyleSheetError=function(e){var i,r=this.stylesheets.length;for(i=0;r>i;i++)if(e.source===this.stylesheets[i].source)return this.stylesheets.splice(i,1),this.queueCount--,this.onComplete.call(this),t},n.prototype.onComplete=function(){0===this.queueCount&&this.callback.call(this,this.stylesheets)},e.StyleLoader=n}(e),!function(i){function r(){this.selectorText=null,this.style={},this.type="rule"}function n(){function e(e){var t=e.trim().split(";");return t.length?t.pop().trim():null}function i(e){var i={},r=e.trim().split(";");return r&&r.length?(r.forEach(function(e){if(-1!=e.indexOf(":")){var r,n,s=e.split(":");s[0]!==t&&s[1]!==t&&(r=s[0].trim(),n=s[1].trim().replace(/[\"\']/g,""),i[r]=n)}}),i):i}function n(t,s,o){function l(e,t){for(var i=0;t;){switch(e.charAt(i)){case"{":t++;break;case"}":t--}i++}return i-1}var a,u=t.indexOf("{"),c=new r,h=t.substring(0,u),f=e(h),p=t.substr(u+1,t.length),g=p.indexOf("}"),d=p.indexOf("{");if(u>0){if(c.setSelector(f),o&&(c.setParentRule(o),a=i(h),o.setStyle(a)),d>-1&&g>d){g=l(p,1);var m=p.substring(0,g);a=i(h),c.setStyle(a),c.cssRules=c.cssRules||[],n(m,c.cssRules,c),p=p.substring(g+1,p.length)}else a=i(p.substring(0,g)),c.setStyle(a),p=p.substring(g+1,t.length);n(p,s),s.unshift(c)}}function s(e){if(!e)throw Error("CSSParser.cascadeRules(). No css rules available for cascade");if(!e.length)return e;var t=[],i={},r=[];return e.forEach(function(e){e.cssRules&&(e.cssRules=s(e.cssRules)),i[e.selectorText]?i[e.selectorText]=o({},i[e.selectorText],e):(r.push(e.selectorText),i[e.selectorText]=e)}),r.forEach(function(e){t.push(i[e])},this),i=null,r=null,t}function o(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach(function(t){for(var i in t){if("parentRule"===i)return;e[i]="object"==typeof e[i]&&e[i]?"function"==typeof e[i].slice?s(e[i].concat(t[i])):o({},e[i],t[i]):t[i]}}),e}return{cssRules:[],parse:function(e){e=e.replace(/[\n\t]+/g,"").replace(/\/\*[\s\S]*?\*\//g,"").trim(),n.call(this,e,this.cssRules)},parseCSSDeclaration:function(e){var t=[];return n.call(this,e,t),t.length&&1===t.length?t.pop():null},clear:function(){this.cssRules=[]},cascade:function(e){return e&&e.length?s.call(this,e):(this.cssRules=s.call(this,this.cssRules),t)},doExtend:o}}r.prototype={setSelector:function(e){this.selectorText=e;var t=e.match(/^@([^\s]+)\s*([^{]+)?/);if(t&&t[1]){switch(t[1]){case"template":this.type="template",this.cssRules=[];break;case"slot":this.type="slot";break;default:this.type="unknown"}this.identifier=t[2]||"auto"}},setStyle:function(e){if(!e)throw new TypeError("CSSRule.setStyles(). Invalid input. Expected 'object', got "+e);return this.style=e||{},this.style},setParentRule:function(e){if(!e)throw new TypeError("CSSRule.setParentRule(). Invalid input. Expected 'object', got "+properties);return this.parentRule=e,this.parentRule}},i=i||e,i.CSSParser=n}(e);var i=function(){};i.prototype={bind:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},unbind:function(e,t){this._events=this._events||{},e in this._events!=!1&&this._events[e].splice(this._events[e].indexOf(t),1)},trigger:function(e){if(this._events=this._events||{},e in this._events!=!1)for(var t=0;this._events[e].length>t;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},i.mixin=function(e){for(var t=["bind","unbind","trigger"],r=0;t.length>r;r++)e.prototype[t[r]]=i.prototype[t[r]]},"undefined"!=typeof module&&"exports"in module&&(module.exports=i);var r=function(){var e,t;return e=function(e){var i,r,n,s,o=[];for(i=e.split(","),n=0,s=i.length;s>n;n+=1)r=i[n],r.length>0&&o.push(t(r));return o},t=function(e){var t,i=e,r={a:0,b:0,c:0},n=[],s=/(\[[^\]]+\])/g,o=/(#[^\s\+>~\.\[:]+)/g,l=/(\.[^\s\+>~\.\[:]+)/g,a=/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/g,u=/(:[^\s\+>~\.\[:]+)/g,c=/([^\s\+>~\.\[:]+)/g;return t=function(e,t){var s,o,l,a,u,c;if(e.test(i))for(s=i.match(e),o=0,l=s.length;l>o;o+=1)r[t]+=1,a=s[o],u=i.indexOf(a),c=a.length,n.push({selector:a,type:t,index:u,length:c}),i=i.replace(a,Array(c+1).join(" "))},function(){var e=/:not\(([^\)]*)\)/g;e.test(i)&&(i=i.replace(e,"	 $1 "))}(),function(){var e,t,r,n,s=/{[^]*/gm;if(s.test(i))for(e=i.match(s),t=0,r=e.length;r>t;t+=1)n=e[t],i=i.replace(n,Array(n.length+1).join(" "))}(),t(s,"b"),t(o,"a"),t(l,"b"),t(a,"c"),t(u,"b"),i=i.replace(/[\*\s\+>~]/g," "),i=i.replace(/[#\.]/g," "),t(c,"c"),n.sort(function(e,t){return e.index-t.index}),{selector:e,specificity:"0,"+(""+r.a)+","+(""+r.b)+","+(""+r.c),parts:n}},{calculate:e}}();"undefined"!=typeof exports&&(exports.calculate=r.calculate);var n,s={};s.models={},s.utils={assert:function(e,t){var i,r,n=!1;for(i=0,r=t.length;r>i;i++)if(e===t[i]){n=!0;break}return n},toCamelCase:function(e){return e.replace(/\W+(.)/g,function(e,t){return t.toUpperCase()})},toDashedCase:function(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})},keys:function(e){return(Object.keys||function(e,t,i){i=[];for(t in e)return i.hasOwnProperty.call(e,t)&&i.push(t),i}).call(e,e)},matchesSelector:function(e,t){return(Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||function(e){var t,i,r=document.querySelectorAll(e);for(t=0,i=r.length;i>t;t++)if(r[t]===this)return!0;return!1}).call(e,t)},nthChildSupport:function(){return function(){var e=document.createElement("div");return e.innerHTML+="<p></p>",e.querySelector("p:nth-child(1)")}()},testValue:function(e){var t,i,r=["left","top","right","bottom","width","height"];for(t=0,i=r.length;i>t;t++)if(r[t]===e)return!0;return!1},applyPositioning:function(e,t,i,r){var n,s,o,l,a=t.properties.display,u=r.items,c=r.container;for(this.applyStyles(e,t.selector,{position:"relative",width:c.width,height:c.height,display:a.replace("flex","block")}),n=0,s=i.length;s>n;n++)l=i[n],o=u[n],this.applyStyles(e,l.selector,o)},detectAuto:function(e,t){var i,r=e.style.width,n=e.style.height,s=!1,o=!1;return e.style.width="auto",e.style.height="auto",i=e.getBoundingClientRect(),s=i.width===t.width,o=i.height===t.height,e.style.width=r,e.style.height=n,{width:s,height:o}},getValues:function(t,i){var r,n,s,o,l={},a="",u=["Top","Right","Bottom","Left"];if(e.getComputedStyle)for(o=getComputedStyle(t),"border"===i&&(a="Width"),r=0,n=u.length;n>r;r++)s=u[r],l[s.toLowerCase()]=parseFloat(o[i+s+a]||0);return l.topTotal=l.top+l.bottom,l.leftTotal=l.left+l.right,l},getBorderValues:function(e){return this.getValues(e,"border")},getMarginValues:function(e){return this.getValues(e,"margin")},getPaddingValues:function(e){return this.getValues(e,"padding")},getMin:function(e,t){var i={width:"scrollLeft",height:"scrollTop"},r=e.style,n=0,s=i[t],o=r[t]||"",l=r.overflow||"";for(r[t]=n,r.overflow="auto",e[s]=1;e[s];)n+=10,r[t]=n+"px";for(n-=10,r[t]=n+"px",e[s]=1;e[s];)n+=1,r[t]=n+"px";var a=e.getBoundingClientRect();return r[t]=o,r.overflow=l,{width:a.width,height:a.height}},getPristineBox:function(e,t){t=t||"absolute";var i=e.style,r=i.position,n=i.cssFloat,s=i.clear;i.position="relative",i.cssFloat="left",i.clear="both";var o=e.getBoundingClientRect(),l=this.detectAuto(e,o);i.position=r,i.cssFloat=n,i.clear=s;var a=e.getBoundingClientRect();""===e.getAttribute("style")&&e.removeAttribute("style");var u=this.getBorderValues(e),c=this.getMarginValues(e),h=this.getPaddingValues(e),f=c.left+c.right;f+=h.left+h.right,f+=u.left+u.right;var p=c.top+c.bottom;return p+=h.top+h.bottom,p+=u.top+u.bottom,{position:t,left:a.left,top:a.top,width:o.width-(h.left+h.right)-(u.left+u.right),height:o.height-(h.top+h.bottom)-(u.top+u.bottom),debug:{auto:l,values:{width:f,height:p},border:u,margin:c,padding:h,inner:{left:h.left+h.right+(u.left+u.right),top:h.top+h.bottom+(u.top+u.bottom)},width:o.width+f,height:o.height+p}}},storePositionValues:function(e,t){var i,r,n=this.getPristineBox(e.element,"relative"),s=[];for(i=0,r=t.length;r>i;i++)s.push(this.getPristineBox(t[i].element));return{container:n,items:s}},clonePositionValues:function(e,t){var i,r,n,s,o={container:{},items:[]};for(i in e.container)o.container[i]=e.container[i];for(r=0,n=e.items.length;n>r;r++){s={};for(i in e.items[r])s[i]=e.items[r][i];s.debug.properties=t[r].properties,o.items.push(s)}return o},JSONToStyles:function(e,t){var i,r,n=[e+" {"];for(var s in t){if(i=t[s],typeof i==typeof{})break;r=this.testValue(s),r&&"number"==typeof i&&(i=""+i+"px"),n.push(s+": "+i+" !important;")}return n="\n"+n.join("\n	")+"\n}"+"\n"},removeStyles:function(e){var t=document.getElementById(e);t&&t.parentNode.removeChild(t)},applyStyles:function(e,t,i){var r=this.JSONToStyles(t,i),n=document.getElementsByTagName("head")[0],s=document.getElementById(e),o=s||document.createElement("style");s||(o.id=e,o.type="text/css"),o.styleSheet?o.styleSheet.cssText+=r:o.appendChild(document.createTextNode(r)),n.appendChild(o)},flexBasisToPx:function(e,i,r){return e===t||"auto"===e?i:"0"===e?0:"px"===e.slice(-2)?parseFloat(e.slice(0,-2)):"%"===e.slice(-1)?.01*r*parseFloat(e.slice(0,-1)):t}},s.parser={properties:{container:{display:["flex","inline-flex"],"flex-direction":!0,"flex-wrap":!0,"justify-content":!0,"align-items":!0,"align-content":!0,"flex-flow":!0},items:{order:!0,"flex-grow":!0,"flex-shrink":!0,"flex-basis":!0,"align-self":!0,flex:!0}},onStylesLoaded:function(e){var t,i,r,s,o,l=new CSSParser;for(t=0,i=e.length;i>t;t++)r=e[t],l.parse(r.cssText);if(0!==l.cssRules.length)for(s=this.filterFlexRules(l.cssRules),t=0,i=s.length;i>t;t++)o=new n(s[t])},validateRules:function(e,t){var i,r,n,s,o;for(r in t)if(n=e[r])if(i=i||{},n.length&&n!==!0){for(s=0,o=n.length;o>s;s++)if(t[r]===n[s]){i[r]=t[r];break}}else i[r]=t[r];return i},validateContainer:function(e){var i=this.validateRules(this.properties.container,e),r=(i||{}).display;switch(r){case"flex":case"inline-flex":return i}return t},validateItems:function(e){return this.validateRules(this.properties.items,e)},sortByDescendingSpecificity:function(e,t){var i=parseFloat(e.specificity.split(",").join("")),r=parseFloat(t.specificity.split(",").join(""));return r-i},checkMatchingSelectors:function(e){var t,i,n,o,l,a,u,c,h,f,p,g,d={},m={},v=s.utils.matchesSelector,y=s.utils.keys(e);for(t=y.shift();t;){for(m[t]=m[t]||[t],i=document.querySelectorAll(t),h=0,f=i.length;f>h;h++)for(n=i[h],p=0,g=y.length;g>p;p++)if(l=y[p],l!==t){var b=v(n,l);b===!0&&(m[t]=m[t].concat(y.splice(p,1)),p-=1,g=y.length)}t=y.shift()}for(o in m){for(a=r.calculate(m[o].join()),a.sort(this.sortByDescendingSpecificity),u={},h=0,f=a.length;f>h;h++){n=e[a[h].selector];for(t in n)u[t]=u[t]||n[t]}c=a.shift(),d[c.selector]=u}return d},filterDuplicates:function(e){var t,i,r,n={};for(t=0,i=e.length;i>t;t++){r=e[t],n[r.selectorText]=n[r.selectorText]||{};for(var s in r.style)n[r.selectorText][s]=r.style[s]}return n=this.checkMatchingSelectors(n)},appendNthChildSelector:function(e,t){this.supportsNth=this.supportsNth||s.utils.nthChildSupport();var i,r=this.supportsNth;return r?i=":nth-child("+(t+1)+")":(i="nth-child-"+(t+1),e.className+=" "+i,i="."+i),i},buildSelector:function(e,t,i){var r,n,s,o,l=[e," > "];if(l.push(t.nodeName.toLowerCase()),t.id&&l.push("#"+t.id),t.className)for(r=t.className.trim().split(" "),n=0,s=r.length;s>n;n++)l.push("."+r[n]);if(t.attributes.length)for(n=0;t.attributes.length>n;n++)if(o=t.attributes[n],o.specified)switch(o.name){case"class":case"id":break;default:l.push("["+o.name+"="+o.value+"]")}return 3===l.length&&l.push(this.appendNthChildSelector(t,i)),l.join("")},mapChildren:function(e,t,i){var r,n,o,l,a,u=s.utils.matchesSelector,c=e.childNodes,h=0,f=[];for(r=0,n=c.length;n>r;r++)if(l=c[r],1===l.nodeType){a=!1;for(o in i)if(u(l,o)){f.push({element:l,selector:o+this.appendNthChildSelector(l,h),properties:i[o]}),a=!0;break}a||f.push({element:l,selector:this.buildSelector(t,l,h),properties:{}}),h++}return f},gatherRelationships:function(e,t){var i=[];e=this.filterDuplicates(e),t=this.filterDuplicates(t);var r,n,s,o,l,a,u;for(s in e)for(r=e[s],o=document.querySelectorAll(s),a=0,u=o.length;u>a;a++)l=o[a],l&&(n=this.mapChildren(l,s,t),i.push({container:{element:l,selector:s,properties:r},items:n}));return i},filterFlexRules:function(e){var t,i,r,n,s,o,l=[],a=[];for(t=e.length-1,i=0;t>=i;t--)r=e[t],n=r.style,s=this.validateContainer(n),s&&(r.style=s,l.push(r)),o=this.validateItems(n),o&&(r.style=o,a.push(r));return this.gatherRelationships(l,a)}},s.models.order=function(){this.items.sort(function(e,i){var r=e.properties,n=i.properties;return r&&n?r.order-n.order:t}),this.values.items.sort(function(e,i){var r=e.debug.properties,n=i.debug.properties;return r&&n?r.order-n.order:t})},s.models.alignSelf=function(e,t){var i,r,n,s,o,l,a,u,c,h,f,p,g,d,m,v,y,b=this.crossStart,x=this.crossSize,S=this.lines,w=this.values,C=this.mainSize,T=w.container,N=T[C],R=b+"Total",k="wrap-reverse"===t["flex-wrap"],E="nowrap"===t["flex-wrap"],A="stretch"===t["align-content"],z=this.remainderSize,F=T.debug.padding[b],P=this.reverser;for(r=0,n=S.length;n>r;r++){for(l=S[r],A?(m=S[r+1],v=N+T.debug.padding[b],m&&(m=m.items[0],k?v-=m[b]+m.debug.inner[b]+m.debug.margin[R]:v=m[b]),v-=F,y=v):y=l.maxItemSize,s=0,o=l.items.length;o>s;s++)if(a=l.items[s],i=1,d=z,a.debug&&a.debug.properties){if(c=a.debug.properties["align-self"],"auto"===c&&(c=t["align-items"]),h="flex-start"===c,f="center"===c,p="stretch"===c,g="baseline"===c,p&&E)u=w.container[x]/S.length,a.debug.auto[x]&&(r&&(a[b]+=(u-a[x])*r),a[x]=u-a.debug.inner[b]-a.debug.margin[R]);else if(p&&a.debug.auto[x]){var V=a[x];a[x]=y-a.debug.inner[b]-a.debug.margin[R],k&&(a[b]+=V-a[x])}p||h||g||(f&&(i=.5,d*=.5),E||A||(d=0),u=l.maxItemSize,a[b]-=a.debug.margin[R]*i*P,a[b]+=(d+(u-(a[x]+a.debug.inner[b]))*i)*P)}A&&(F+=v)}},s.models.flexGrow=function(e,i){var r,n,o,l,a,u,c,h,f,p,g,d,m,v,y,b,x,S,w,C,T=this.values,N=T.container,R=this.mainStart,k=this.mainSize,E=N[k],A=this.lines,z=s.utils,F=["row-reverse","column-reverse"],P=i["flex-direction"],V=z.assert(P,F);for(r=0,n=A.length;n>r;r++){for(l=A[r],a=l.items.length,v=Array(a),y=Array(a),w=Array(a),u=0,o=0;a>o;o++)y[o]=l.items[o].debug.properties["flex-basis"]===t||"auto"===l.items[o].debug.properties["flex-basis"]?l.items[o][k]:parseFloat(l.items[o].debug.properties["flex-basis"].slice(0,-2)),u+=y[o]+l.items[o].debug.padding[R+"Total"]+l.items[o].debug.border[R+"Total"]+l.items[o].debug.margin[R+"Total"];for(c=E-u,b=0>c?"flex-shrink":"flex-grow",S=0>c?"min-":"max-",x=0>c?-1:1,h=0,o=0;a>o;o++)1===x?w[o]=parseFloat(l.items[o].debug.properties["flex-grow"]):(isNaN(l.items[o].debug.properties["flex-shrink"])&&(l.items[o].debug.properties["flex-shrink"]="1"),w[o]=y[o]*l.items[o].debug.properties["flex-shrink"]),h+=w[o];if(0!==h){for(m=1;m;)for(m=0,o=0;a>o;o++)f=c*w[o]/h,p=l.items[o].debug.properties[S+k],isNaN(v[o])&&(0>y[o]+f||p!==t&&x*(l.items[o][k]+f)>x*p)&&(m=1,v[o]=0>y[o]+f?-y[o]:p-y[o],h-=w[o],c-=v[o],0===h&&(h=1));for(m=1;m;)for(m=0,o=0;a>o;o++)f=c*w[o]/h,isNaN(v[o])&&x*l.items[o][k]>x*(y[o]+f)&&(m=1,v[o]=l.items[o][k]-y[o],h-=w[o],c-=v[o],0===h&&(h=1));if(!(0>=c))for(g=0,d=V?-1:1,o=0;a>o;o++)f=isNaN(v[o])?c*w[o]/h:v[o],C=l.items[o][k],l.items[o][k]=y[o]+f,l.items[o][R]+=V?-g-l.items[o][k]+C:g,console.log("Col "+(o+1)+"'s ",R," was moved by ",V?-g-f:g," and inc ",k," by ",f),g+=l.items[o][k]-C}}},s.models.flexDirection=function(e){var t,i,r,n=this.values,o=n.container,l=n.items,a=s.utils,u=["column","column-reverse"],c=["row-reverse","column-reverse"],h=a.assert(e,u),f=a.assert(e,c),p=h?"left":"top",g=h?"top":"left",d=s.dimValues[g],m=s.dimValues[p],v=0,y=0,b=g+"Total",x=o[d];for(t=0,i=l.length;i>t;t++)r=l[t],r[g]=y+o.debug.padding[g],r[p]=y+o.debug.padding[p],f?r[g]=x+o.debug.padding[g]-(r[d]+r.debug.inner[g])-r.debug.margin[b]-v:r[g]+=v,v+=r[d]+r.debug.margin[b],h&&!f?v+=r.debug.inner[g]:f&&(v+=r.debug.inner[g]);this.crossStart=p,this.mainStart=g,this.mainSize=d,this.crossSize=m},s.models.flexWrap=function(e,t){var i,r,n,o,l,a,u,c,h=this.values,f=h.items,p="wrap"===e,g="wrap-reverse"===e,d=this.crossStart,m=this.mainStart,v=this.mainSize,y=this.crossSize,b=h.container,x=b[v],S=[],w={items:[]},C=s.utils,T=["column","column-reverse"],N=["row-reverse","column-reverse"],R=t["flex-direction"],k=C.assert(R,T),E=C.assert(R,N),A=m+"Total",z=d+"Total",F=0,P=0,V=0,j=0,B=0,I=E?-1:1,M=g?-1:1;if(p||g){var _=x,q={top:"bottom",left:"right"},O=q[m];if(g){var D=0;for(i=0,r=f.length;r>i;i++)l=f[i],D=Math.max(D,l[y]+l.debug.inner[d]+l.debug.margin[z]);var L=x-D;for(i=0,r=f.length;r>i;i++)l=f[i],l[d]+=L+(D-(l[y]+l.debug.inner[d]+l.debug.margin[z]))}for(i=0,r=f.length;r>i;i++){if(l=f[i],c=C.flexBasisToPx(l.debug.properties["flex-basis"],l[v],x)+l.debug.inner[m]+l.debug.margin[A],P+c>_){if(S.push(w),w={items:[]},V+=F,B+=j,k&&u){var W;W=E?l[m]-b.debug.padding[m]+l[v]+l.debug.inner[m]+l.debug.margin[A]-V*I-_:V*I-(l[m]-b.debug.padding[m]),W>0&&(V-=W)}F=0,P=0,j=0}l[m]-=V*I,l[d]+=B*M,F+=l[v]+l.debug.inner[m]+l.debug.margin[A],P+=c,j=Math.max(j,l[y]+l.debug.inner[d]+l.debug.margin[z]),k&&(u&&(F+=Math.min(l.debug.margin[m],u.debug.margin[O])),u=l),w.items.push(l)}}else w.items=h.items;if(S.push(w),V=0,!k&&!E)for(i=0,r=S.length;r>i;i++)for(a=S[i].items,n=0,o=a.length;o>n;n++)l=a[n],u&&(V+=u.debug.inner[m],l[m]+=V),u=l;this.lines=S,this.reverser=M},s.models.justifyContent=function(e,t){var i,r,n,o,l,a,u,c,h,f,p=this.values,g=s.utils,d=p.container,m=this.mainStart,v=this.mainSize,y=d[v],b="flex-start"===e,x="center"===e,S="space-between"===e,w="space-around"===e,C=["row-reverse","column-reverse"],T=g.assert(t["flex-direction"],C),N=this.lines,R=1;T=T?-1:1;var k=m+"Total";if(!b)for(i=0,r=N.length;r>i;i++){for(h=0,l=N[i],a=l.items,o=a.length,R=1,c=y,n=0;o>n;n++)u=a[n],c-=u[v]+u.debug.inner[m]+u.debug.margin[k];for((x||w&&0>c)&&(R=.5),c*=R,n=0,(S||w&&c>=0)&&(n=1,c=Math.max(0,c),c/=o-(S?1:0),h=c,w&&(f=.5*c,a[0][m]+=f*T,c+=f));o>n;n++)a[n][m]+=c*T,c+=h}},s.models.alignItems=function(e,t){var i,r,n,s,o,l,a=this.crossStart,u=this.crossSize,c=this.lines,h=this.values,f=h.container[u],p=a+"Total",g="nowrap"===t["flex-wrap"],d=f;for(i=0,r=c.length;r>i;i++){for(o=c[i],n=0,s=o.items.length;s>n;n++)l=o.items[n],o.maxItemSize=Math.max(o.maxItemSize||0,l[u]+l.debug.inner[a]+l.debug.margin[p]);d-=o.maxItemSize}d/=c.length,this.remainderSize=g?d:Math.max(0,d)},s.models.alignContent=function(e,t,i){var r,n,s,o,l,a,u,c,h,f=this.values,p=f.container,g=this.crossStart,d=this.crossSize,m=p[d],v="flex-start"===e,y="center"===e,b="space-between"===e,x="space-around"===e,S="stretch"===t["align-content"],w="alignContentStretch"===i,C="nowrap"===t["flex-wrap"],T=this.lines,N=1,R=g+"Total",k=this.reverser,E=T.length,A=0;if(!(C&&1>=T.length||(u=m,v||S&&!w||!S&&w))){for(r=0,n=E;n>r;r++){for(c=0,l=T[r].items,s=0,o=l.length;o>s;s++)a=l[s],c=Math.max(c,a[d]+a.debug.inner[g]+a.debug.margin[R]);u-=c}if(A=0,c=0,(b||x||S)&&0>=u){if(!x)return;x=!1,y=!0}if(y&&(N=.5),(b||x||S)&&(A=1,u/=E-(b?1:0),c=u,x)){for(h=.5*u,l=T[0],s=0,o=l.items.length;o>s;s++)a=l.items[s],a[g]+=h*k;u+=h}for(n=E;n>A;A++){for(l=T[A],s=0,o=l.items.length;o>s;s++)a=l.items[s],a[g]+=u*N*k;u+=c}}},s.models.autoSize=function(e,t){var i,r,n,o=this.values,l=o.container,a=o.items,u=(this.crossStart,this.mainStart),c=this.mainSize,h=this.crossSize,f=(l[c],"nowrap"===t["flex-wrap"]);if(f){var p,g,d,m,v,y=0,b=0;for(i=0,r=a.length;r>i;i++)if(n=a[i],p=0,n.debug.auto[c]){g=this.items[i].element,d=s.utils.getMin(g,c),m=n.debug.padding,v=n.debug.border;var x=n[c],S=d[c]-(m.left+m.right)-(v.left+v.right),w=d[h]-(m.top+m.bottom)-(v.top+v.bottom);n[c]=S,n[h]=w,a[i+1]&&(p=b+x-S,a[i+1][u]-=p),b+=p,y+=S}}},s.container=function(){var e=s.utils,t=s.models;s.dimValues={left:"width",top:"height"};var i=function(e){return this.settings=e,this.render(e)};return i.prototype={models:{order:t.order,flexDirection:t.flexDirection,flexWrap:t.flexWrap,flexGrow:t.flexGrow,alignContentStretch:t.alignContent,justifyContent:t.justifyContent,alignItems:t.alignItems,alignSelf:t.alignSelf,alignContent:t.alignContent},generateUID:function(e){if(this.uid)return this.uid;var t=e.selector;return t=t.replace(/\#/g,"id-"),t=t.replace(/\./g,"class-"),t=t.replace(/\:/g,"pseudo-"),t=t.replace(/\s/g,"-"),this.uid="flexie-"+t,this.uid},expandFlexFlow:function(e){var t,i,r={display:"flex","flex-direction":"row","flex-wrap":"nowrap","justify-content":"flex-start","align-items":"stretch","align-content":"stretch"};for(var n in e){var s=e[n];if("flex-flow"===n)for(s=s.split(" "),t=0,i=s.length;i>t;t++){var o=s[t];/row|column/.test(o)?r["flex-direction"]=o:r["flex-wrap"]=o}else r[n]=s}return r},expandFlex:function(e){var t={"align-self":"auto",order:"0","flex-grow":"0","flex-shrink":"1","flex-basis":"auto"};for(var i in e){var r,n,s,o=e[i];if("flex"===i)switch(o=o.split(" "),o.length){case 1:if(r=o[0],isNaN(r))switch(r){case"initial":break;case"auto":t["flex-grow"]="1",t["flex-basis"]=r;break;case"none":t["flex-shrink"]="0";break;default:t["flex-grow"]="1",t["flex-basis"]=r}else t["flex-grow"]=r,t["flex-basis"]="0px";break;case 2:var l=!isNaN(o[0])&&!isNaN(o[1]);if(l)t["flex-grow"]=o[0],t["flex-shrink"]=o[1];else for(n=0,s=o.length;s>n;n++)r=o[n],isNaN(r)?t["flex-basis"]=r:t["flex-grow"]=r;break;case 3:var a,u,c;for(n=0,s=o.length;s>n;n++)r=o[n],isNaN(r)?c||(t["flex-basis"]=r,c=!0):a?u||(t["flex-shrink"]=r,u=!0):(t["flex-grow"]=r,a=!0)}else t[i]=o}return t},render:function(t){this.uid=this.generateUID(t.container),e.removeStyles(this.uid),this.container=t.container,this.items=t.items;var i,r,o;for(i=0,r=this.items.length;r>i;i++)o=this.items[i],o.properties=this.expandFlex(o.properties);this.dom=this.dom||{},this.dom.values=e.storePositionValues(this.container,this.items),this.values=e.clonePositionValues(this.dom.values,this.items);var l=this.expandFlexFlow(this.container.properties),a=this.models;for(var u in a){var c=e.toDashedCase(u);a[u].call(this,l[c],l,u)}s.utils.applyPositioning(this.uid,this.container,this.items,this.values),n.event.trigger("complete",{uid:this.uid,container:this.container,items:this.items})}},i}(),s.items=function(){var e=function(e){return this.properties=e,this.render(e)};return e.prototype={render:function(){}},e}(),n=function(e){return this.settings=e,this.box(e)},n.prototype={box:function(e){return n.support===!0?!0:new s.container(e)}},n.support=function(){var e,i,r,n="flexWrap",s="webkit moz o ms".split(" "),o=document.createElement("flx"),l=function(e){return o.style[e]!==t},a=l(n);if(!a)for(n=n.charAt(0).toUpperCase()+n.slice(1),e=0,i=s.length;i>e;e++)if(r=s[e]+n,a=l(r))return a;return a}(),s.event={handlers:{redraw:function(){var e=n.options||{};"function"==typeof e.redraw&&e.redraw.apply(n,arguments)},complete:function(){var e=n.options||{};"function"==typeof e.complete&&e.complete.apply(n,arguments)}},emitter:function(){var e=new i,t=s.event.handlers;return e.bind("redraw",t.redraw),e.bind("complete",t.complete),e}},n.init=function(e){if(n.support===!0)return!0;if(!("querySelectorAll"in document))throw Error("Flexie needs `document.querySelectorAll`, but your browser doesn't support it.");return this.options=e,this.event=new s.event.emitter(e),this.redraw=function(){return this.event.trigger("redraw")},new StyleLoader(function(){return function(e){s.parser.onStylesLoaded(e)}}())},"function"==typeof define&&define.amd?define(function(){return n}):e.Flexie=n})(window);